@echo offInstallerx64
rd /S /Q obj
rd /S /Q out
md obj
md out
cd /D D:\Code\Java\ScreenInMC2\src\main\cpp
echo "x64========================================="
set INCLUDE=E:\Program\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.34.31933\include;E:\Program\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.34.31933\ATLMFC\include;E:\Program\Microsoft Visual Studio\2022\Community\VC\Auxiliary\VS\include;C:\Program Files (x86)\Windows Kits\10\include\10.0.19041.0\ucrt;C:\Program Files (x86)\Windows Kits\10\\include\10.0.19041.0\\um;C:\Program Files (x86)\Windows Kits\10\\include\10.0.19041.0\\shared;C:\Program Files (x86)\Windows Kits\10\\include\10.0.19041.0\\winrt;C:\Program Files (x86)\Windows Kits\10\\include\10.0.19041.0\\cppwinrt;C:\Program Files (x86)\Windows Kits\NETFXSDK\4.8\include\um
set LIB=E:\Program\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.34.31933\ATLMFC\lib\x64;E:\Program\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.34.31933\lib\x64;C:\Program Files (x86)\Windows Kits\NETFXSDK\4.8\lib\um\x64;C:\Program Files (x86)\Windows Kits\10\lib\10.0.19041.0\ucrt\x64;C:\Program Files (x86)\Windows Kits\10\\lib\10.0.19041.0\\um\x64
set LIBPATH=E:\Program\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.34.31933\ATLMFC\lib\x64;E:\Program\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.34.31933\lib\x64;E:\Program\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.34.31933\lib\x86\store\references;C:\Program Files (x86)\Windows Kits\10\UnionMetadata\10.0.19041.0;C:\Program Files (x86)\Windows Kits\10\References\10.0.19041.0;C:\Windows\Microsoft.NET\Framework64\v4.0.30319
set PATH=E:\Program\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.34.31933\bin\HostX64\x64;E:\Program\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.34.31933\lib\x64;C:\Program Files (x86)\Windows Kits\10\bin\10.0.19041.0\x64
cl /c /I"C:/Users/27857/.jdks/corretto-17.0.4/include" /I"C:/Users/27857/.jdks/corretto-17.0.4/include/win32" /I"E:/Nvidia/Sdk/include" /Zi /W3 /WX- /diagnostics:column /sdl /O2 /Oi /GL /D NDEBUG /D _CONSOLE /D _WINDLL /D _UNICODE /D UNICODE /Gm- /EHsc /MD /GS /Gy /fp:precise /Zc:wchar_t /Zc:forScope /Zc:inline /permissive- /Fo"obj\screen-in-mc-windows-amd64" /Fd"obj\vc.pdb" /external:W3 /Gd /TP /FC /errorReport:prompt D:\Code\Java\ScreenInMC2\src\main\cpp\ScreenInMC.cpp /utf-8

link /OUT:"./obj/screen-in-mc-windows-amd64.dll" /MANIFEST "/MANIFESTUAC:level='asInvoker' uiAccess='false'" /manifest:embed /LTCG:incremental "/LTCGOUT:obj\screen-in-mc-windows-amd64.iobj" /DEBUG "/PDB:obj\screen-in-mc-windows-amd64.pdb" /NXCOMPAT "/IMPLIB:obj\screen-in-mc-windows-amd64.lib" "E:\Nvidia\Sdk\lib\x64\OpenCL.lib" /SUBSYSTEM:CONSOLE /OPT:REF /OPT:ICF /LTCG:incremental /TLBID:1 /DYNAMICBASE /NXCOMPAT /MACHINE:X64 /DLL obj\screen-in-mc-windows-amd64.obj 

copy .\obj\screen-in-mc-windows-amd64.dll .\out\screen-in-mc-windows-amd64.dll

echo "x32========================================="
set INCLUDE=E:\Program\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.34.31933\include;E:\Program\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.34.31933\ATLMFC\include;E:\Program\Microsoft Visual Studio\2022\Community\VC\Auxiliary\VS\include;C:\Program Files (x86)\Windows Kits\10\include\10.0.19041.0\ucrt;C:\Program Files (x86)\Windows Kits\10\\include\10.0.19041.0\\um;C:\Program Files (x86)\Windows Kits\10\\include\10.0.19041.0\\shared;C:\Program Files (x86)\Windows Kits\10\\include\10.0.19041.0\\winrt;C:\Program Files (x86)\Windows Kits\10\\include\10.0.19041.0\\cppwinrt;C:\Program Files (x86)\Windows Kits\NETFXSDK\4.8\include\um
set LIB=E:\Program\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.34.31933\ATLMFC\lib\x86;E:\Program\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.34.31933\lib\x86;C:\Program Files (x86)\Windows Kits\NETFXSDK\4.8\lib\um\x86;C:\Program Files (x86)\Windows Kits\10\lib\10.0.19041.0\ucrt\x86;C:\Program Files (x86)\Windows Kits\10\\lib\10.0.19041.0\\um\x86
set LIBPATH=E:\Program\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.34.31933\ATLMFC\lib\x86;E:\Program\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.34.31933\lib\x86;E:\Program\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.34.31933\lib\x86\store\references;C:\Program Files (x86)\Windows Kits\10\UnionMetadata\10.0.19041.0;C:\Program Files (x86)\Windows Kits\10\References\10.0.19041.0;C:\Windows\Microsoft.NET\Framework64\v4.0.30319
set PATH=E:\Program\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.34.31933\bin\Hostx86\x86;E:\Program\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.34.31933\lib\x86;C:\Program Files (x86)\Windows Kits\10\bin\10.0.19041.0\x86
cl /c /I"C:/Users/27857/.jdks/corretto-17.0.4/include" /I"C:/Users/27857/.jdks/corretto-17.0.4/include/win32" /I"E:/Nvidia/Sdk/include" /Zi /W3 /WX- /diagnostics:column /sdl /O2 /Oi /Oy- /GL /D WIN32 /D NDEBUG /D _CONSOLE /D _WINDLL /D _UNICODE /D UNICODE /Gm- /EHsc /MD /GS /Gy /fp:precise /Zc:wchar_t /Zc:forScope /Zc:inline /permissive- /Fo"obj\screen-in-mc-windows-i386" /Fd"obj\vc.pdb" /external:W3 /Gd /TP /analyze- /FC /errorReport:prompt D:\Code\Java\ScreenInMC2\src\main\cpp\ScreenInMC.cpp /utf-8

link /OUT:"./obj/screen-in-mc-windows-i386.dll" /MANIFEST "/MANIFESTUAC:level='asInvoker' uiAccess='false'" /manifest:embed /LTCG:incremental "/LTCGOUT:obj\screen-in-mc-windows-i386.iobj" /DEBUG "/PDB:obj\screen-in-mc-windows-i386.pdb" /NXCOMPAT "/IMPLIB:obj\screen-in-mc-windows-i386.lib" "E:\Nvidia\Sdk\lib\Win32\OpenCL.lib" /SUBSYSTEM:CONSOLE /OPT:REF /OPT:ICF /LTCG:incremental /TLBID:1 /DYNAMICBASE /NXCOMPAT /MACHINE:X86 /SAFESEH /DLL obj\screen-in-mc-windows-i386.obj
copy .\obj\screen-in-mc-windows-i386.dll .\out\screen-in-mc-windows-i386.dll